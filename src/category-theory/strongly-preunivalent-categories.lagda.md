# Strongly preunivalent categories

```agda
module category-theory.strongly-preunivalent-categories where
```

<details><summary>Imports</summary>

```agda
open import category-theory.composition-operations-on-binary-families-of-sets
open import category-theory.isomorphisms-in-precategories
open import category-theory.precategories
open import category-theory.preunivalent-categories

open import foundation.1-types
open import foundation.cartesian-product-types
open import foundation.dependent-pair-types
open import foundation.embeddings
open import foundation.functoriality-dependent-pair-types
open import foundation.identity-types
open import foundation.propositional-maps
open import foundation.propositions
open import foundation.sets
open import foundation.strictly-involutive-identity-types
open import foundation.structured-equality-duality
open import foundation.universe-levels
```

</details>

## Idea

A
{{#concept "strongly preunivalent category" Agda=Strongly-Preunivalent-Category}}
`ùíû` is a [precategory](category-theory.precategories.md) for which every mapping
of the concrete groupoid of objects into the groupoid of
[isomorphisms](category-theory.isomorphisms-in-precategories.md) is an
[embedding](foundation-core.embeddings.md). Equivalently, by
[subuniverse equality duality](foundation.structured-equality-duality.md), a
strongly preunivalent category is a precategory whose based isomorphism types
`Œ£ (x : ùíû‚ÇÄ), (* ‚âÖ x)` are [sets](foundation-core.sets.md).

The main purpose of _preunivalence_ is to serve as a common generalization of
univalent mathematics and mathematics with Axiom K by restricting the ways that
identity and equivalence may interact. Hence preunivalent categories generalize
both [(univalent) categories](category-theory.categories.md) and
[strict categories](category-theory.strict-categories.md), which are
precategories whose objects form a [set](foundation-core.sets.md). Note,
however, that our use of the term "preunivalence" here is in a
[stronger](foundation.strong-preunivalence.md) sense than its use in the
[preunivalence axiom](foundation.preunivalence.md).

## Definitions

### The predicate on precategories of being a strongly preunivalent category

We define strong preunivalence of a precategory `ùíû` to be the condition that for
every `x : ùíû‚ÇÄ`, the type `Œ£ (y : ùíû‚ÇÄ), (x ‚âÖ y)` is a set.

```agda
module _
  {l1 l2 : Level} (ùíû : Precategory l1 l2)
  where

  is-strongly-preunivalent-prop-Precategory : Prop (l1 ‚äî l2)
  is-strongly-preunivalent-prop-Precategory =
    Œ†-Prop
      ( obj-Precategory ùíû)
      ( Œª x ‚Üí
        is-set-Prop
          ( Œ£ ( obj-Precategory ùíû)
              ( iso-Precategory ùíû x)))

  is-strongly-preunivalent-Precategory : UU (l1 ‚äî l2)
  is-strongly-preunivalent-Precategory =
    type-Prop is-strongly-preunivalent-prop-Precategory

  is-preunivalent-is-strongly-preunivalent-Precategory :
    is-strongly-preunivalent-Precategory ‚Üí
    is-preunivalent-Precategory ùíû
  is-preunivalent-is-strongly-preunivalent-Precategory H x y =
    is-emb-is-prop-map
      ( backward-implication-subuniverse-equality-duality
        ( is-prop-Prop)
        ( H x)
        ( x)
        ( iso-eq-Precategory ùíû x)
        ( y))
```

### The type of preunivalent categories

```agda
Strongly-Preunivalent-Category : (l1 l2 : Level) ‚Üí UU (lsuc l1 ‚äî lsuc l2)
Strongly-Preunivalent-Category l1 l2 =
  Œ£ (Precategory l1 l2) (is-strongly-preunivalent-Precategory)

module _
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2)
  where

  precategory-Strongly-Preunivalent-Category : Precategory l1 l2
  precategory-Strongly-Preunivalent-Category = pr1 ùíû

  obj-Strongly-Preunivalent-Category : UU l1
  obj-Strongly-Preunivalent-Category =
    obj-Precategory precategory-Strongly-Preunivalent-Category

  hom-set-Strongly-Preunivalent-Category :
    obj-Strongly-Preunivalent-Category ‚Üí
    obj-Strongly-Preunivalent-Category ‚Üí
    Set l2
  hom-set-Strongly-Preunivalent-Category =
    hom-set-Precategory precategory-Strongly-Preunivalent-Category

  hom-Strongly-Preunivalent-Category :
    obj-Strongly-Preunivalent-Category ‚Üí
    obj-Strongly-Preunivalent-Category ‚Üí
    UU l2
  hom-Strongly-Preunivalent-Category =
    hom-Precategory precategory-Strongly-Preunivalent-Category

  is-set-hom-Strongly-Preunivalent-Category :
    (x y : obj-Strongly-Preunivalent-Category) ‚Üí
    is-set (hom-Strongly-Preunivalent-Category x y)
  is-set-hom-Strongly-Preunivalent-Category =
    is-set-hom-Precategory precategory-Strongly-Preunivalent-Category

  comp-hom-Strongly-Preunivalent-Category :
    {x y z : obj-Strongly-Preunivalent-Category} ‚Üí
    hom-Strongly-Preunivalent-Category y z ‚Üí
    hom-Strongly-Preunivalent-Category x y ‚Üí
    hom-Strongly-Preunivalent-Category x z
  comp-hom-Strongly-Preunivalent-Category =
    comp-hom-Precategory precategory-Strongly-Preunivalent-Category

  associative-comp-hom-Strongly-Preunivalent-Category :
    {x y z w : obj-Strongly-Preunivalent-Category}
    (h : hom-Strongly-Preunivalent-Category z w)
    (g : hom-Strongly-Preunivalent-Category y z)
    (f : hom-Strongly-Preunivalent-Category x y) ‚Üí
    comp-hom-Strongly-Preunivalent-Category
      ( comp-hom-Strongly-Preunivalent-Category h g)
      ( f) Ôºù
    comp-hom-Strongly-Preunivalent-Category
      ( h)
      ( comp-hom-Strongly-Preunivalent-Category g f)
  associative-comp-hom-Strongly-Preunivalent-Category =
    associative-comp-hom-Precategory precategory-Strongly-Preunivalent-Category

  involutive-eq-associative-comp-hom-Strongly-Preunivalent-Category :
    {x y z w : obj-Strongly-Preunivalent-Category}
    (h : hom-Strongly-Preunivalent-Category z w)
    (g : hom-Strongly-Preunivalent-Category y z)
    (f : hom-Strongly-Preunivalent-Category x y) ‚Üí
    comp-hom-Strongly-Preunivalent-Category
      ( comp-hom-Strongly-Preunivalent-Category h g)
      ( f) Ôºù‚Å±
    comp-hom-Strongly-Preunivalent-Category
      ( h)
      ( comp-hom-Strongly-Preunivalent-Category g f)
  involutive-eq-associative-comp-hom-Strongly-Preunivalent-Category =
    involutive-eq-associative-comp-hom-Precategory
      ( precategory-Strongly-Preunivalent-Category)

  associative-composition-operation-Strongly-Preunivalent-Category :
    associative-composition-operation-binary-family-Set
      hom-set-Strongly-Preunivalent-Category
  associative-composition-operation-Strongly-Preunivalent-Category =
    associative-composition-operation-Precategory
      ( precategory-Strongly-Preunivalent-Category)

  id-hom-Strongly-Preunivalent-Category :
    {x : obj-Strongly-Preunivalent-Category} ‚Üí
    hom-Strongly-Preunivalent-Category x x
  id-hom-Strongly-Preunivalent-Category =
    id-hom-Precategory precategory-Strongly-Preunivalent-Category

  left-unit-law-comp-hom-Strongly-Preunivalent-Category :
    {x y : obj-Strongly-Preunivalent-Category}
    (f : hom-Strongly-Preunivalent-Category x y) ‚Üí
    comp-hom-Strongly-Preunivalent-Category
      ( id-hom-Strongly-Preunivalent-Category)
      ( f) Ôºù
    f
  left-unit-law-comp-hom-Strongly-Preunivalent-Category =
    left-unit-law-comp-hom-Precategory
      precategory-Strongly-Preunivalent-Category

  right-unit-law-comp-hom-Strongly-Preunivalent-Category :
    {x y : obj-Strongly-Preunivalent-Category}
    (f : hom-Strongly-Preunivalent-Category x y) ‚Üí
    comp-hom-Strongly-Preunivalent-Category
      ( f)
      ( id-hom-Strongly-Preunivalent-Category) Ôºù
    f
  right-unit-law-comp-hom-Strongly-Preunivalent-Category =
    right-unit-law-comp-hom-Precategory
      precategory-Strongly-Preunivalent-Category

  is-unital-composition-operation-Strongly-Preunivalent-Category :
    is-unital-composition-operation-binary-family-Set
      hom-set-Strongly-Preunivalent-Category
      comp-hom-Strongly-Preunivalent-Category
  is-unital-composition-operation-Strongly-Preunivalent-Category =
    is-unital-composition-operation-Precategory
      ( precategory-Strongly-Preunivalent-Category)

  is-strongly-preunivalent-Strongly-Preunivalent-Category :
    is-strongly-preunivalent-Precategory
      precategory-Strongly-Preunivalent-Category
  is-strongly-preunivalent-Strongly-Preunivalent-Category = pr2 ùíû

  iso-Strongly-Preunivalent-Category :
    (x y : obj-Strongly-Preunivalent-Category) ‚Üí UU l2
  iso-Strongly-Preunivalent-Category =
    iso-Precategory precategory-Strongly-Preunivalent-Category

  iso-eq-Strongly-Preunivalent-Category :
    (x y : obj-Strongly-Preunivalent-Category) ‚Üí
    x Ôºù y ‚Üí iso-Strongly-Preunivalent-Category x y
  iso-eq-Strongly-Preunivalent-Category =
    iso-eq-Precategory precategory-Strongly-Preunivalent-Category

  is-preunivalent-Strongly-Preunivalent-Category :
    is-preunivalent-Precategory precategory-Strongly-Preunivalent-Category
  is-preunivalent-Strongly-Preunivalent-Category =
    is-preunivalent-is-strongly-preunivalent-Precategory
      ( precategory-Strongly-Preunivalent-Category)
      ( is-strongly-preunivalent-Strongly-Preunivalent-Category)

  emb-iso-eq-Strongly-Preunivalent-Category :
    {x y : obj-Strongly-Preunivalent-Category} ‚Üí
    (x Ôºù y) ‚Ü™ (iso-Precategory precategory-Strongly-Preunivalent-Category x y)
  emb-iso-eq-Strongly-Preunivalent-Category {x} {y} =
    ( iso-eq-Precategory precategory-Strongly-Preunivalent-Category x y ,
      is-preunivalent-Strongly-Preunivalent-Category x y)
```

### The right-based isomorphism types of a strongly preunivalent category are also sets

```agda
is-strongly-preunivalent-Strongly-Preunivalent-Category' :
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2) ‚Üí
  ( x : obj-Strongly-Preunivalent-Category ùíû) ‚Üí
  is-set
    ( Œ£ ( obj-Strongly-Preunivalent-Category ùíû)
        ( Œª y ‚Üí iso-Strongly-Preunivalent-Category ùíû y x))
is-strongly-preunivalent-Strongly-Preunivalent-Category' ùíû x =
  is-set-equiv
    ( Œ£ ( obj-Strongly-Preunivalent-Category ùíû)
        ( iso-Strongly-Preunivalent-Category ùíû x))
    ( equiv-tot
      ( Œª y ‚Üí
        equiv-inv-iso-Precategory
          ( precategory-Strongly-Preunivalent-Category ùíû)))
    ( is-strongly-preunivalent-Strongly-Preunivalent-Category ùíû x)
```

### The total hom-type of a strongly preunivalent category

```agda
total-hom-Strongly-Preunivalent-Category :
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2) ‚Üí UU (l1 ‚äî l2)
total-hom-Strongly-Preunivalent-Category ùíû =
  total-hom-Precategory (precategory-Strongly-Preunivalent-Category ùíû)

obj-total-hom-Strongly-Preunivalent-Category :
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2) ‚Üí
  total-hom-Strongly-Preunivalent-Category ùíû ‚Üí
  obj-Strongly-Preunivalent-Category ùíû √ó obj-Strongly-Preunivalent-Category ùíû
obj-total-hom-Strongly-Preunivalent-Category ùíû =
  obj-total-hom-Precategory (precategory-Strongly-Preunivalent-Category ùíû)
```

### Equalities induce morphisms

```agda
module _
  {l1 l2 : Level}
  (ùíû : Strongly-Preunivalent-Category l1 l2)
  where

  hom-eq-Strongly-Preunivalent-Category :
    (x y : obj-Strongly-Preunivalent-Category ùíû) ‚Üí
    x Ôºù y ‚Üí hom-Strongly-Preunivalent-Category ùíû x y
  hom-eq-Strongly-Preunivalent-Category =
    hom-eq-Precategory (precategory-Strongly-Preunivalent-Category ùíû)

  hom-inv-eq-Strongly-Preunivalent-Category :
    (x y : obj-Strongly-Preunivalent-Category ùíû) ‚Üí
    x Ôºù y ‚Üí hom-Strongly-Preunivalent-Category ùíû y x
  hom-inv-eq-Strongly-Preunivalent-Category =
    hom-inv-eq-Precategory (precategory-Strongly-Preunivalent-Category ùíû)
```

### Pre- and postcomposition by a morphism

```agda
precomp-hom-Strongly-Preunivalent-Category :
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2)
  {x y : obj-Strongly-Preunivalent-Category ùíû}
  (f : hom-Strongly-Preunivalent-Category ùíû x y)
  (z : obj-Strongly-Preunivalent-Category ùíû) ‚Üí
  hom-Strongly-Preunivalent-Category ùíû y z ‚Üí
  hom-Strongly-Preunivalent-Category ùíû x z
precomp-hom-Strongly-Preunivalent-Category ùíû =
  precomp-hom-Precategory (precategory-Strongly-Preunivalent-Category ùíû)

postcomp-hom-Strongly-Preunivalent-Category :
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2)
  {x y : obj-Strongly-Preunivalent-Category ùíû}
  (f : hom-Strongly-Preunivalent-Category ùíû x y)
  (z : obj-Strongly-Preunivalent-Category ùíû) ‚Üí
  hom-Strongly-Preunivalent-Category ùíû z x ‚Üí
  hom-Strongly-Preunivalent-Category ùíû z y
postcomp-hom-Strongly-Preunivalent-Category ùíû =
  postcomp-hom-Precategory (precategory-Strongly-Preunivalent-Category ùíû)
```

## Properties

### The objects in a strongly preunivalent category form a 1-type

The type of identities between two objects in a preunivalent category embeds
into the type of isomorphisms between them. But this type is a set, and thus the
identity type is a set.

```agda
module _
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2)
  where

  is-1-type-obj-Strongly-Preunivalent-Category :
    is-1-type (obj-Strongly-Preunivalent-Category ùíû)
  is-1-type-obj-Strongly-Preunivalent-Category x y =
    is-set-is-emb
      ( iso-eq-Precategory (precategory-Strongly-Preunivalent-Category ùíû) x y)
      ( is-preunivalent-Strongly-Preunivalent-Category ùíû x y)
      ( is-set-iso-Precategory (precategory-Strongly-Preunivalent-Category ùíû))

  obj-1-type-Strongly-Preunivalent-Category : 1-Type l1
  pr1 obj-1-type-Strongly-Preunivalent-Category =
    obj-Strongly-Preunivalent-Category ùíû
  pr2 obj-1-type-Strongly-Preunivalent-Category =
    is-1-type-obj-Strongly-Preunivalent-Category
```

### The total hom-type of a strongly preunivalent category is a 1-type

```agda
module _
  {l1 l2 : Level} (ùíû : Strongly-Preunivalent-Category l1 l2)
  where

  is-1-type-total-hom-Strongly-Preunivalent-Category :
    is-1-type (total-hom-Strongly-Preunivalent-Category ùíû)
  is-1-type-total-hom-Strongly-Preunivalent-Category =
    is-trunc-total-hom-is-trunc-obj-Precategory
      ( precategory-Strongly-Preunivalent-Category ùíû)
      ( is-1-type-obj-Strongly-Preunivalent-Category ùíû)

  total-hom-1-type-Strongly-Preunivalent-Category : 1-Type (l1 ‚äî l2)
  total-hom-1-type-Strongly-Preunivalent-Category =
    total-hom-truncated-type-is-trunc-obj-Precategory
      ( precategory-Strongly-Preunivalent-Category ùíû)
      ( is-1-type-obj-Strongly-Preunivalent-Category ùíû)
```

## See also

- [The strong preunivalence axiom](foundation.strong-preunivalence.md)
