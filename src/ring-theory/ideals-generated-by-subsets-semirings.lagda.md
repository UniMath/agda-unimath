# Ideals generated by subsets of semirings

```agda
module ring-theory.ideals-generated-by-subsets-semirings where
```

<details><summary>Imports</summary>

```agda
open import foundation.action-on-identifications-functions
open import foundation.cartesian-product-types
open import foundation.dependent-pair-types
open import foundation.fibers-of-maps
open import foundation.function-types
open import foundation.identity-types
open import foundation.logical-equivalences
open import foundation.powersets
open import foundation.propositional-truncations
open import foundation.propositions
open import foundation.subtypes
open import foundation.transport-along-identifications
open import foundation.unions-subtypes
open import foundation.universe-levels

open import lists.concatenation-lists
open import lists.functoriality-lists
open import lists.lists

open import order-theory.galois-connections-large-posets
open import order-theory.least-upper-bounds-large-posets
open import order-theory.order-preserving-maps-large-posets
open import order-theory.order-preserving-maps-large-preorders
open import order-theory.reflective-galois-connections-large-posets

open import ring-theory.ideals-semirings
open import ring-theory.left-linear-combinations-of-elements-semirings
open import ring-theory.linear-combinations-of-elements-semirings
open import ring-theory.monoids-with-left-semiring-actions
open import ring-theory.monoids-with-semiring-actions
open import ring-theory.poset-of-ideals-semirings
open import ring-theory.semirings
open import ring-theory.subsets-semirings
```

</details>

## Idea

The
{{#concept "ideal generated by a subset" Disambiguation="semirings" Agda=ideal-subset-Semiring}}
`S` of a [semiring](ring-theory.semirings.md) `R` is the least
[ideal](ring-theory.ideals-semirings.md) in `R` containing the
[subset](ring-theory.subsets-semirings.md) `S`.

## Definitions

### The universal property of ideals generated by a subset of a semiring

```agda
module _
  {l1 l2 l3 : Level} (R : Semiring l1) (S : subset-Semiring l2 R)
  (I : ideal-Semiring l3 R) (H : S ⊆ subset-ideal-Semiring R I)
  where

  is-ideal-generated-by-subset-Semiring : UUω
  is-ideal-generated-by-subset-Semiring =
    {l : Level} (J : ideal-Semiring l R) →
    S ⊆ subset-ideal-Semiring R J →
    subset-ideal-Semiring R I ⊆ subset-ideal-Semiring R J
```

### The universal property of ideals generated by a family of subsets of a semiring

```agda
module _
  {l1 l2 l3 l4 : Level} (R : Semiring l1) {U : UU l2}
  (S : U → subset-Semiring l3 R)
  (I : ideal-Semiring l4 R)
  (H : (α : U) → S α ⊆ subset-ideal-Semiring R I)
  where

  is-ideal-generated-by-family-of-subsets-Semiring : UUω
  is-ideal-generated-by-family-of-subsets-Semiring =
    {l : Level} (J : ideal-Semiring l R) →
    ((α : U) → S α ⊆ subset-ideal-Semiring R J) →
    leq-ideal-Semiring R I J
```

### The universal property of ideals generated by a family of elements in a semiring

```agda
module _
  {l1 l2 l3 : Level} (R : Semiring l1) {U : UU l2} (a : U → type-Semiring R)
  (I : ideal-Semiring l3 R)
  (H : (α : U) → is-in-ideal-Semiring R I (a α))
  where

  is-ideal-generated-by-family-of-elements-Semiring : UUω
  is-ideal-generated-by-family-of-elements-Semiring =
    {l : Level} (J : ideal-Semiring l R) →
    ((α : U) → is-in-ideal-Semiring R J (a α)) →
    leq-ideal-Semiring R I J
```

### Construction of the Galois connection of ideals generated by subsets

#### Ideals generated by subsets

```agda
module _
  {l1 l2 : Level} (R : Semiring l1) (S : subset-Semiring l2 R)
  where

  subset-ideal-subset-Semiring' : type-Semiring R → UU (l1 ⊔ l2)
  subset-ideal-subset-Semiring' =
    is-linear-combination-subset-Semiring R S

  subset-ideal-subset-Semiring : subset-Semiring (l1 ⊔ l2) R
  subset-ideal-subset-Semiring =
    is-mere-linear-combination-prop-subset-Semiring R S

  is-in-ideal-subset-Semiring : type-Semiring R → UU (l1 ⊔ l2)
  is-in-ideal-subset-Semiring =
    is-in-subtype subset-ideal-subset-Semiring

  contains-zero-ideal-subset-Semiring :
    contains-zero-subset-Semiring R subset-ideal-subset-Semiring
  contains-zero-ideal-subset-Semiring =
    unit-trunc-Prop (nil , refl)

  is-closed-under-addition-ideal-subset-Semiring :
    is-closed-under-addition-subset-Semiring R subset-ideal-subset-Semiring
  is-closed-under-addition-ideal-subset-Semiring H K =
    apply-twice-universal-property-trunc-Prop H K
      ( subset-ideal-subset-Semiring _)
      ( λ H' K' →
        unit-trunc-Prop
          ( is-linear-combination-mul-monoid-Semiring R
            ( additive-monoid-Semiring R)
            ( λ r (s , p) t → mul-Semiring R (mul-Semiring R r s) t)
            ( _)
            ( _)
            ( H')
            ( K')))

  is-closed-under-left-multiplication-ideal-subset-Semiring :
    is-closed-under-left-multiplication-subset-Semiring R
      ( subset-ideal-subset-Semiring)
  is-closed-under-left-multiplication-ideal-subset-Semiring r x H =
    apply-universal-property-trunc-Prop H
      ( subset-ideal-subset-Semiring _)
      ( λ H' →
        unit-trunc-Prop
          ( is-linear-combination-action-Semiring
            ( R)
            ( additive-monoid-Semiring R , {!!} , {!!})
            {!!}
            {!!}
            {!!}
            {!!}
            {!!}
            {!!}))
;
{-
        unit-trunc-Prop
          ( is-linear-combination-action-Semiring
            ( R)
            ( additive-monoid-with-semiring-action-Semiring R)
            ( λ t (s , H) → mul-Semiring R t s)
            ( λ s t (a , H) → associative-mul-Semiring R s t a)
            ( r)
            ( x)
            ( H'))) -}

  ideal-subset-Semiring :
    ideal-Semiring (l1 ⊔ l2) R
  pr1 ideal-subset-Semiring =
    subset-ideal-subset-Semiring
  pr1 (pr1 (pr2 ideal-subset-Semiring)) =
    contains-zero-ideal-subset-Semiring
  pr2 (pr1 (pr2 ideal-subset-Semiring)) =
    is-closed-under-addition-ideal-subset-Semiring
  pr2 (pr2 ideal-subset-Semiring) = {!!}
    -- is-closed-under-multiplication-ideal-subset-Semiring

--   contains-subset-ideal-subset-Semiring :
--     S ⊆ subset-ideal-subset-Semiring
--   contains-subset-ideal-subset-Semiring s H =
--     unit-trunc-Prop
--       ( ( unit-list (one-Semiring R , (s , H))) ,
--         ( right-unit-law-add-Semiring R (mul-Semiring R (one-Semiring R) s)) ∙
--         ( left-unit-law-mul-Semiring R s))

--   contains-linear-combinations-ideal-subset-Semiring :
--     {l3 : Level} (I : ideal-Semiring l3 R) →
--     S ⊆ subset-ideal-Semiring R I →
--     (x : linear-combination-subset-Semiring R S) →
--     is-in-ideal-Semiring R I
--       ( ev-linear-combination-subset-Semiring R S x)
--   contains-linear-combinations-ideal-subset-Semiring I H nil =
--     contains-zero-ideal-Semiring R I
--   contains-linear-combinations-ideal-subset-Semiring I H
--     ( cons (r , (s , K)) l) =
--     is-closed-under-addition-ideal-Semiring R I
--       ( ?)
--       ( contains-linear-combinations-ideal-subset-Semiring I H l)

--   is-ideal-generated-by-subset-ideal-subset-Semiring :
--     is-ideal-generated-by-subset-Semiring R S
--       ( ideal-subset-Semiring)
--       ( contains-subset-ideal-subset-Semiring)
--   is-ideal-generated-by-subset-ideal-subset-Semiring {l} J K x H =
--     apply-universal-property-trunc-Prop H (subset-ideal-Semiring R J x) P
--     where
--     P : subset-ideal-subset-Semiring' x → is-in-ideal-Semiring R J x
--     P (pair c refl) =
--       contains-linear-combinations-ideal-subset-Semiring J K c

--   is-closed-under-eq-ideal-subset-Semiring :
--     {x y : type-Semiring R} → is-in-ideal-subset-Semiring x →
--     (x ＝ y) → is-in-ideal-subset-Semiring y
--   is-closed-under-eq-ideal-subset-Semiring =
--     is-closed-under-eq-ideal-Semiring R ideal-subset-Semiring

--   is-closed-under-eq-ideal-subset-Semiring' :
--     {x y : type-Semiring R} → is-in-ideal-subset-Semiring y →
--     (x ＝ y) → is-in-ideal-subset-Semiring x
--   is-closed-under-eq-ideal-subset-Semiring' =
--     is-closed-under-eq-ideal-Semiring' R ideal-subset-Semiring
-- ```

-- #### The subset relation is preserved by generating ideals

-- ```agda
-- module _
--   {l1 : Level} (A : Semiring l1)
--   where

--   preserves-order-ideal-subset-Semiring :
--     {l2 l3 : Level} (S : subset-Semiring l2 A) (T : subset-Semiring l3 A) →
--     S ⊆ T →
--     leq-ideal-Semiring A
--       ( ideal-subset-Semiring A S)
--       ( ideal-subset-Semiring A T)
--   preserves-order-ideal-subset-Semiring S T H =
--     is-ideal-generated-by-subset-ideal-subset-Semiring A S
--       ( ideal-subset-Semiring A T)
--       ( transitive-leq-subtype S T
--         ( subset-ideal-subset-Semiring A T)
--         ( contains-subset-ideal-subset-Semiring A T)
--         ( H))

--   ideal-subset-hom-large-poset-Semiring :
--     hom-Large-Poset
--       ( λ l2 → l1 ⊔ l2)
--       ( powerset-Large-Poset (type-Semiring A))
--       ( ideal-Semiring-Large-Poset A)
--   map-hom-Large-Preorder ideal-subset-hom-large-poset-Semiring =
--     ideal-subset-Semiring A
--   preserves-order-hom-Large-Preorder
--     ideal-subset-hom-large-poset-Semiring =
--     preserves-order-ideal-subset-Semiring
-- ```

-- #### The Galois connection `S ↦ (S)`

-- ```agda
-- module _
--   {l1 : Level} (A : Semiring l1)
--   where

--   adjoint-relation-ideal-subset-Semiring :
--     {l2 l3 : Level} (S : subset-Semiring l2 A) (I : ideal-Semiring l3 A) →
--     leq-ideal-Semiring A (ideal-subset-Semiring A S) I ↔
--     (S ⊆ subset-ideal-Semiring A I)
--   pr1 (adjoint-relation-ideal-subset-Semiring S I) H =
--     transitive-leq-subtype S
--       ( subset-ideal-subset-Semiring A S)
--       ( subset-ideal-Semiring A I)
--       ( H)
--       ( contains-subset-ideal-subset-Semiring A S)
--   pr2 (adjoint-relation-ideal-subset-Semiring S I) =
--     is-ideal-generated-by-subset-ideal-subset-Semiring A S I

--   ideal-subset-galois-connection-Semiring :
--     galois-connection-Large-Poset
--       ( l1 ⊔_) (λ l → l)
--       ( powerset-Large-Poset (type-Semiring A))
--       ( ideal-Semiring-Large-Poset A)
--   lower-adjoint-galois-connection-Large-Poset
--     ideal-subset-galois-connection-Semiring =
--     ideal-subset-hom-large-poset-Semiring A
--   upper-adjoint-galois-connection-Large-Poset
--     ideal-subset-galois-connection-Semiring =
--     subset-ideal-hom-large-poset-Semiring A
--   adjoint-relation-galois-connection-Large-Poset
--     ideal-subset-galois-connection-Semiring =
--     adjoint-relation-ideal-subset-Semiring
-- ```

-- #### The reflective Galois connection `S ↦ (S)`

-- ```agda
-- module _
--   {l1 : Level} (A : Semiring l1)
--   where

--   forward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring :
--     {l2 : Level} (I : ideal-Semiring l2 A) →
--     leq-ideal-Semiring A
--       ( ideal-subset-Semiring A (subset-ideal-Semiring A I))
--       ( I)
--   forward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring
--     I =
--     is-ideal-generated-by-subset-ideal-subset-Semiring A
--       ( subset-ideal-Semiring A I)
--       ( I)
--       ( refl-leq-ideal-Semiring A I)

--   backward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring :
--     {l2 : Level} (I : ideal-Semiring l2 A) →
--     leq-ideal-Semiring A I
--       ( ideal-subset-Semiring A (subset-ideal-Semiring A I))
--   backward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring
--     I =
--     contains-subset-ideal-subset-Semiring A
--       ( subset-ideal-Semiring A I)

--   is-reflective-ideal-subset-galois-connection-Semiring :
--     is-reflective-galois-connection-Large-Poset
--       ( powerset-Large-Poset (type-Semiring A))
--       ( ideal-Semiring-Large-Poset A)
--       ( ideal-subset-galois-connection-Semiring A)
--   pr1 (is-reflective-ideal-subset-galois-connection-Semiring I) =
--     forward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring
--       I
--   pr2 (is-reflective-ideal-subset-galois-connection-Semiring I) =
--     backward-inclusion-is-reflective-ideal-subset-galois-connection-Semiring
--       I

--   ideal-subset-reflective-galois-connection-Semiring :
--     reflective-galois-connection-Large-Poset
--       ( powerset-Large-Poset (type-Semiring A))
--       ( ideal-Semiring-Large-Poset A)
--   galois-connection-reflective-galois-connection-Large-Poset
--     ideal-subset-reflective-galois-connection-Semiring =
--     ideal-subset-galois-connection-Semiring A
--   is-reflective-reflective-galois-connection-Large-Poset
--     ideal-subset-reflective-galois-connection-Semiring =
--     is-reflective-ideal-subset-galois-connection-Semiring
-- ```

-- ### The ideal generated by a family of subsets of a semiring

-- ```agda
-- module _
--   {l1 l2 l3 : Level} (R : Semiring l1)
--   {U : UU l2} (S : U → subset-Semiring l3 R)
--   where

--   generating-subset-ideal-family-of-subsets-Semiring :
--     subset-Semiring (l2 ⊔ l3) R
--   generating-subset-ideal-family-of-subsets-Semiring x =
--     union-family-of-subtypes S x

--   ideal-family-of-subsets-Semiring : ideal-Semiring (l1 ⊔ l2 ⊔ l3) R
--   ideal-family-of-subsets-Semiring =
--     ideal-subset-Semiring R
--       generating-subset-ideal-family-of-subsets-Semiring

--   subset-ideal-family-of-subsets-Semiring :
--     subset-Semiring (l1 ⊔ l2 ⊔ l3) R
--   subset-ideal-family-of-subsets-Semiring =
--     subset-ideal-subset-Semiring R
--       generating-subset-ideal-family-of-subsets-Semiring

--   is-in-ideal-family-of-subsets-Semiring :
--     type-Semiring R → UU (l1 ⊔ l2 ⊔ l3)
--   is-in-ideal-family-of-subsets-Semiring =
--     is-in-ideal-subset-Semiring R
--       generating-subset-ideal-family-of-subsets-Semiring

--   contains-subset-ideal-family-of-subsets-Semiring :
--     {α : U} → (S α) ⊆ subset-ideal-family-of-subsets-Semiring
--   contains-subset-ideal-family-of-subsets-Semiring {α} x H =
--     contains-subset-ideal-subset-Semiring R
--       ( generating-subset-ideal-family-of-subsets-Semiring)
--       ( x)
--       ( unit-trunc-Prop (α , H))

--   is-ideal-generated-by-family-of-subsets-ideal-family-of-subsets-Semiring :
--     is-ideal-generated-by-family-of-subsets-Semiring R S
--       ( ideal-family-of-subsets-Semiring)
--       ( λ α → contains-subset-ideal-family-of-subsets-Semiring)
--   is-ideal-generated-by-family-of-subsets-ideal-family-of-subsets-Semiring
--     J H =
--     is-ideal-generated-by-subset-ideal-subset-Semiring R
--       ( generating-subset-ideal-family-of-subsets-Semiring)
--       ( J)
--       ( λ y q →
--         apply-universal-property-trunc-Prop q
--           ( subset-ideal-Semiring R J y)
--           ( λ (α , K) → H α y K))
-- ```

-- ### The ideal generated by a family of elements in a semiring

-- ```agda
-- module _
--   {l1 l2 : Level} (R : Semiring l1) {I : UU l1} (a : I → type-Semiring R)
--   where

--   generating-subset-ideal-family-of-elements-Semiring :
--     subset-Semiring l1 R
--   generating-subset-ideal-family-of-elements-Semiring x =
--     trunc-Prop (fiber a x)

--   ideal-family-of-elements-Semiring :
--     ideal-Semiring l1 R
--   ideal-family-of-elements-Semiring =
--     ideal-subset-Semiring R
--       generating-subset-ideal-family-of-elements-Semiring

--   subset-ideal-family-of-elements-Semiring :
--     subset-Semiring l1 R
--   subset-ideal-family-of-elements-Semiring =
--     subset-ideal-subset-Semiring R
--       generating-subset-ideal-family-of-elements-Semiring

--   is-in-ideal-family-of-elements-Semiring :
--     type-Semiring R → UU l1
--   is-in-ideal-family-of-elements-Semiring =
--     is-in-ideal-subset-Semiring R
--       generating-subset-ideal-family-of-elements-Semiring

--   contains-element-ideal-family-of-elements-Semiring :
--     (i : I) → is-in-ideal-family-of-elements-Semiring (a i)
--   contains-element-ideal-family-of-elements-Semiring i =
--     contains-subset-ideal-subset-Semiring R
--       ( generating-subset-ideal-family-of-elements-Semiring)
--       ( a i)
--       ( unit-trunc-Prop (i , refl))

--   abstract
--     is-ideal-generated-by-family-of-elements-ideal-family-of-elements-Semiring :
--       is-ideal-generated-by-family-of-elements-Semiring R a
--         ideal-family-of-elements-Semiring
--         contains-element-ideal-family-of-elements-Semiring
--     is-ideal-generated-by-family-of-elements-ideal-family-of-elements-Semiring
--       J H =
--       is-ideal-generated-by-subset-ideal-subset-Semiring R
--         ( generating-subset-ideal-family-of-elements-Semiring)
--         ( J)
--         ( λ x p →
--           apply-universal-property-trunc-Prop p
--             ( subset-ideal-Semiring R J x)
--             ( λ where (i , refl) → H i))
-- ```

-- ## Properties

-- ### The ideal generated by the underlying subset of an ideal `I` is `I` itself

-- ```agda
-- module _
--   {l1 l2 : Level} (R : Semiring l1) (I : ideal-Semiring l2 R)
--   where

--   cases-forward-inclusion-idempotent-ideal-subset-Semiring :
--     ( l :
--       linear-combination-subset-Semiring R
--         ( subset-ideal-Semiring R I)) →
--     is-in-ideal-Semiring R I
--       ( ev-linear-combination-subset-Semiring R
--         ( subset-ideal-Semiring R I)
--         ( l))
--   cases-forward-inclusion-idempotent-ideal-subset-Semiring nil =
--     contains-zero-ideal-Semiring R I
--   cases-forward-inclusion-idempotent-ideal-subset-Semiring
--     ( cons (x , y , u) l) =
--     is-closed-under-addition-ideal-Semiring R I
--       ? -- ( is-closed-under-multiplication-ideal-Semiring R I x y u)
--       ( cases-forward-inclusion-idempotent-ideal-subset-Semiring l)

--   abstract
--     forward-inclusion-idempotent-ideal-subset-Semiring :
--       leq-ideal-Semiring R
--         ( ideal-subset-Semiring R (subset-ideal-Semiring R I))
--         ( I)
--     forward-inclusion-idempotent-ideal-subset-Semiring x H =
--       apply-universal-property-trunc-Prop H
--         ( subset-ideal-Semiring R I x)
--         ( λ where
--           ( l , refl) →
--             cases-forward-inclusion-idempotent-ideal-subset-Semiring l)

--   backward-inclusion-idempotent-ideal-subset-Semiring :
--     leq-ideal-Semiring R
--       ( I)
--       ( ideal-subset-Semiring R (subset-ideal-Semiring R I))
--   backward-inclusion-idempotent-ideal-subset-Semiring =
--     contains-subset-ideal-subset-Semiring R
--       ( subset-ideal-Semiring R I)

--   idempotent-ideal-subset-Semiring :
--     has-same-elements-ideal-Semiring R
--       ( ideal-subset-Semiring R (subset-ideal-Semiring R I))
--       ( I)
--   pr1 (idempotent-ideal-subset-Semiring x) =
--     forward-inclusion-idempotent-ideal-subset-Semiring x
--   pr2 (idempotent-ideal-subset-Semiring x) =
--     backward-inclusion-idempotent-ideal-subset-Semiring x
-- ```

-- ### The operation `S ↦ (S)` preserves least upper bounds

-- In
-- [`ring-theory.joins-ideals-semirings`](ring-theory.joins-ideals-semirings.md)
-- we will convert this fact to the fact that `S ↦ (S)` preserves joins.

-- ```agda
-- module _
--   {l1 l2 l3 : Level} (R : Semiring l1)
--   {U : UU l2} (S : U → subset-Semiring l3 R)
--   where

--   preserves-least-upper-bounds-ideal-subset-Semiring :
--     {l4 : Level} (T : subset-Semiring l4 R) →
--     is-least-upper-bound-family-of-elements-Large-Poset
--       ( powerset-Large-Poset (type-Semiring R))
--       ( S)
--       ( T) →
--     is-least-upper-bound-family-of-elements-Large-Poset
--       ( ideal-Semiring-Large-Poset R)
--       ( λ α → ideal-subset-Semiring R (S α))
--       ( ideal-subset-Semiring R T)
--   preserves-least-upper-bounds-ideal-subset-Semiring =
--     preserves-join-lower-adjoint-galois-connection-Large-Poset
--       ( powerset-Large-Poset (type-Semiring R))
--       ( ideal-Semiring-Large-Poset R)
--       ( ideal-subset-galois-connection-Semiring R)
--       ( S)
-- ```
